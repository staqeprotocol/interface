(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{88307:function(e,l,s){Promise.resolve().then(s.bind(s,81935))},81935:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return er}});var t=s(9131),a=s(3905),n=s(52490),o=s(55831),r=s(43669),d=s(79169);let i=window.localStorage,c=e=>i.getItem(null!=e?e:"")||o.Hz;var u=s(24522),x=s(48562),m=s(19217);let h=e=>{let{status:l,message:s}=e;return(0,t.jsxs)("div",{role:"alert",className:"relative overflow-hidden alert mb-2 ".concat(-1===l&&"alert-error"," ").concat(3===l&&"alert-success"),children:[-1===l&&(0,t.jsx)(x.Ngq,{className:"absolute inset-y-0 right-0 text-8xl -top-5 opacity-20"}),l>-1&&l<3&&(0,t.jsx)(x.kwx,{className:"absolute inset-y-0 right-0 text-8xl -top-5 opacity-5"}),3===l&&(0,t.jsx)(x.aFc,{className:"absolute inset-y-0 right-0 text-8xl -top-5 opacity-20"}),(0,t.jsx)("span",{children:s})]})};var v=s(63366);let f=e=>{let{poolId:l,rewardId:s,handle:r}=e,{address:d=o.r_}=(0,n.m)(),[i,c]=(0,a.useState)(d),u=(s+1n).toString(),{writeContract:m,status:f}=(0,v.KeN)(),[j,b]=(0,a.useState)(0),[g,N]=(0,a.useState)("Set address to receive reward #".concat(u));return(0,a.useEffect)(()=>{"pending"===f&&(N("Awaiting wallet confirmation..."),b(.5),setTimeout(()=>{N("Confirm the transaction in your wallet."),b(1)},2e3)),"success"===f&&(N("Transaction submitted. Please wait..."),b(2),setTimeout(()=>{N("Check balance after 1 min."),b(0),r()},5e3)),"error"===f&&(N("Error: Transaction failed."),b(-1),setTimeout(()=>{N("Set address to receive reward #".concat(u)),b(0)},5e3))},[f]),(0,t.jsxs)("dialog",{id:"reward-".concat(u),className:"modal",children:[(0,t.jsx)("div",{className:"modal-box",children:(0,t.jsxs)("div",{className:"grid grid-rows-3 gap-4 items-center w-full",children:[(0,t.jsx)(h,{status:j,message:g}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 opacity-70",children:(0,t.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})}),(0,t.jsx)("input",{type:"text",className:"grow",placeholder:"Reward Address",spellCheck:!1,value:i,onChange:e=>{c(e.currentTarget.value)}})]})}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("a",{className:"btn btn-block text-2xl overflow-hidden relative btn-success ".concat(j>0&&j<3?"animate-pulse":""),onClick:()=>{m({args:[[l],[[s]],i]})},children:[j>0&&j<3?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):3===j?"Reward Claimed":"Claim Reward",(0,t.jsx)(x.nZB,{className:"absolute inset-y-0 right-0 text-8xl -top-6 opacity-40"})]})})]})}),(0,t.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,t.jsx)("button",{children:"close"})})]})},j=e=>{let{pool:l,action:s}=e;return(0,t.jsxs)("td",{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-2 h-full",children:(0,t.jsx)(x.I0W,{className:"text-8xl text-neutral-700 opacity-30"})}),(0,t.jsxs)("div",{className:"font-bold text-3xl text-neutral-500 flex justify-center items-center h-full",children:["Reward\xa0#",s.id+1]})]})},b=e=>{var l,s,n,r;let{pool:i,action:u,metadata:x}=e;return r=null==u?void 0:null===(l=u.rewardToken)||void 0===l?void 0:l.tokenAddress,(0,a.useMemo)(()=>c(r),[r]),(0,t.jsx)("td",{className:"w-60",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.default,{src:(null==x?void 0:x.logoURIs)&&(null==i?void 0:null===(s=i.rewardToken)||void 0===s?void 0:s.tokenAddress)&&(null==x?void 0:x.logoURIs[null==i?void 0:null===(n=i.rewardToken)||void 0===n?void 0:n.tokenAddress])||o.Hz,alt:u.rewardToken.symbol,width:0,height:0,className:"w-12 h-12 rounded-full",priority:!1})}),(0,t.jsx)("div",{className:"text-neutral-400",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-full text-xl",children:(0,t.jsx)("a",{className:"link decoration-dotted underline-offset-8",children:u.rewardToken.symbol})})})]})})},g=e=>{let{pool:l,action:s}=e,n=(0,a.useMemo)(()=>{let e={total:"",reward:""};if(s.rewardAmount>0n){let l=Number(s.rewardAmount*BigInt(1e3)/10n**s.rewardToken.decimals)/1e3;l>1e3?e.total=l.toLocaleString("en-US"):e.total=l.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}if(s.stakerRewardAmount>0n){let l=Number(s.stakerRewardAmount*BigInt(1e3)/10n**s.rewardToken.decimals)/1e3;l>1e3?e.reward=l.toLocaleString("en-US"):e.reward=l.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}return e},[s]),o=n.reward.length;return(0,t.jsxs)("td",{className:"relative text-center",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-0 font-bold mb-2 text-".concat(o>3&&o>5&&o>7?o>9?o>11?"2xl":"3xl":"4xl":"5xl"," text-neutral-400 flex justify-center items-center h-full pointer-events-none"),children:n.reward||n.total}),n.reward&&(0,t.jsxs)("div",{className:"absolute inset-x-0 bottom-0 text-neutral-700 text-xs",children:["Total\xa0",n.total,"\xa0",s.rewardToken.symbol]})]})},N=e=>{let{pool:l,action:s}=e,a=(0,u.Z9)(null==s?void 0:s.rewardBlock);return(0,t.jsxs)("td",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:a}),(0,t.jsxs)("span",{className:"text-xs text-neutral-600",children:["Block #",s.rewardBlock.toString()]})]})},p=e=>{let{pool:l,action:s}=e,{data:n}=(0,m.O)({watch:!0}),o=(0,a.useMemo)(()=>{var e,l;return(null!==(e=null==s?void 0:s.rewardBlock)&&void 0!==e?e:0n)+(null!==(l=null==s?void 0:s.claimAfterBlocks)&&void 0!==l?l:0n)-(null!=n?n:0n)},[s,n]),r=(0,a.useMemo)(()=>s.stakerRewardAmount>0n&&!s.isClaimed&&o<=0n,[s,o]);return(0,t.jsxs)("td",{className:"text-center w-68",children:[(0,t.jsxs)("a",{className:"btn btn-block relative overflow-hidden btn-success ".concat(r?"":"btn-disabled"),onClick:()=>{let e=document.getElementById("reward-".concat(s.id+1));null==e||e.showModal()},children:[(0,t.jsx)(x.GZI,{className:"absolute -right-3 -top-1 text-6xl opacity-40 pointer-events-none scale-x-[-1]"}),o>0n?(0,t.jsxs)("span",{className:"text-md",children:["Claim Reward After ",o.toString()," Blocks"]}):(0,t.jsx)("span",{className:"text-2xl",children:"Claim Reward"})]}),(0,t.jsx)(f,{poolId:BigInt(l.id),rewardId:BigInt(s.id),handle:()=>{let e=document.getElementById("reward-".concat(s.id+1));null==e||e.close()}})]})},k=e=>{let{pool:l,action:s}=e;return(0,t.jsxs)("td",{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-2 h-full",children:(0,t.jsx)(x.dE_,{className:"text-8xl text-neutral-700 opacity-30"})}),(0,t.jsxs)("div",{className:"font-bold text-3xl text-neutral-500 flex justify-center items-center h-full",children:["Stake\xa0#",s.id+1]})]})},w=e=>{let{pool:l,action:s,metadata:n}=e,r=(0,a.useMemo)(()=>{var e,s;return(null==n?void 0:n.logoURIs)&&(null==l?void 0:null===(e=l.stakeERC20)||void 0===e?void 0:e.tokenAddress)?null==n?void 0:n.logoURIs[null==l?void 0:null===(s=l.stakeERC20)||void 0===s?void 0:s.tokenAddress]:o.Hz},[null==n?void 0:n.logoURIs,null==l?void 0:l.stakeERC20]),i=(0,a.useMemo)(()=>{var e,s;return(null==n?void 0:n.logoURIs)&&(null==l?void 0:null===(e=l.stakeERC721)||void 0===e?void 0:e.tokenAddress)?null==n?void 0:n.logoURIs[null==l?void 0:null===(s=l.stakeERC721)||void 0===s?void 0:s.tokenAddress]:o.Hz},[null==n?void 0:n.logoURIs,null==l?void 0:l.stakeERC721]),c=(0,a.useMemo)(()=>s.amountERC20>0n&&l.stakeERC20,[s]),u=(0,a.useMemo)(()=>s.idERC721>0n&&l.stakeERC721,[s]);return(0,t.jsx)("td",{className:"w-60",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsxs)("div",{className:"flex",children:[c&&(0,t.jsx)(d.default,{src:r||o.Hz,alt:"ERC20",width:0,height:0,className:"w-12 h-12 rounded-full",priority:!1}),u&&(0,t.jsx)(d.default,{src:i||o.Hz,alt:"ERC721",width:0,height:0,className:"w-12 h-12 rounded-full ".concat(c?"-ml-5":""),priority:!1})]}),(0,t.jsxs)("div",{className:"text-neutral-400 flex flex-col",children:[c&&(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"link decoration-dotted underline-offset-4 text-xl",children:c.symbol})}),u&&(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"link decoration-dotted underline-offset-4 text-xl",children:u.symbol})})]})]})})},y=e=>{let{pool:l,action:s}=e,n=(0,a.useMemo)(()=>{let e={erc20:"",erc721:""};if(s.amountERC20>0n){let t=Number(s.amountERC20*BigInt(1e3)/10n**l.stakeERC20.decimals)/1e3;t>1e3?e.erc20=t.toLocaleString("en-US"):e.erc20=t.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}return s.idERC721>0n&&(e.erc721=s.idERC721.toString()),e},[s]),o=(0,a.useMemo)(()=>{let e={erc20:"",erc721:""};if(l.totalStakedERC20>0n&&s.amountERC20>0n&&s.unstakeBlock<=0n){let t=Number(s.amountERC20*BigInt(1e5)/l.totalStakedERC20)/1e3;e.erc20=t.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}if(l.totalStakedERC721>0n&&s.idERC721>0n&&s.unstakeBlock<=0n){let s=Number(BigInt(1e5)/l.totalStakedERC721)/1e3;e.erc721=s.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}return e},[s]),r=n.erc20.length;return(0,t.jsx)("td",{className:"relative overflow-hidden",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-neutral-400",children:[(null==n?void 0:n.erc20)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"absolute inset-x-0 top-0 font-bold text-".concat(r>3?r>5?r>7?r>9?r>11?"2xl":"3xl":"4xl":"5xl":"6xl":"7xl"," opacity-10 flex justify-center items-center h-full"),children:n.erc20}),o.erc20&&(0,t.jsxs)("span",{className:"text-xs",children:[o.erc20,"% of pool"]})]}),(null==n?void 0:n.erc721)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs text-neutral-600 mr-2",children:"NFT#"}),(0,t.jsx)("span",{className:"text-xl",children:n.erc721}),o.erc721&&(0,t.jsxs)("span",{className:"text-xs text-neutral-600 ml-2",children:[o.erc721,"% of pool"]})]})]})})},C=e=>{let{pool:l,action:s}=e,a=(0,u.Z9)(null==s?void 0:s.stakeBlock);return(0,t.jsxs)("td",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:a}),(0,t.jsxs)("span",{className:"text-xs text-neutral-600",children:["Block #",s.stakeBlock.toString()]})]})},R=e=>{let{pool:l,action:s}=e,{writeContract:a}=(0,v.qpw)();return(0,t.jsx)("td",{className:"text-center w-68",children:(0,t.jsxs)("a",{className:"btn btn-block relative overflow-hidden btn-warning ".concat(s.unstakeBlock>0n?"btn-disabled":""),onClick:()=>{a({args:[BigInt(l.id),[BigInt(s.id)]]})},children:[(0,t.jsx)(x.$CW,{className:"absolute -right-3 -top-1 text-6xl opacity-40 pointer-events-none scale-x-[-1]"}),s.unstakeBlock>0n?(0,t.jsxs)("span",{className:"text-md",children:["Unstaked in #",s.unstakeBlock.toString()," block"]}):(0,t.jsx)("span",{className:"text-2xl",children:"Unstake"})]})})},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18n;return(BigInt(e)/10n**BigInt(l)).toString()},A=e=>({address:"".concat(e.substring(0,8),"..").concat(e.substring(e.length-6)),link:"https://etherscan.io/address/".concat(e)});var S=s(60432),I=s(56679),T=s(13035);let B={reward:e=>{let{action:l,metadata:s}=e,{pool:a}=(0,r.CU)();return a?(0,t.jsxs)("tr",{children:[(0,t.jsx)(j,{pool:a,action:l}),(0,t.jsx)(b,{pool:a,action:l,metadata:s}),(0,t.jsx)(g,{pool:a,action:l}),(0,t.jsx)(N,{pool:a,action:l}),(0,t.jsx)(p,{pool:a,action:l})]}):null},stake:e=>{let{action:l,metadata:s}=e,{pool:a}=(0,r.CU)();return a?(0,t.jsxs)("tr",{children:[(0,t.jsx)(k,{pool:a,action:l}),(0,t.jsx)(w,{pool:a,action:l,metadata:s}),(0,t.jsx)(y,{pool:a,action:l}),(0,t.jsx)(C,{pool:a,action:l}),(0,t.jsx)(R,{pool:a,action:l})]}):null},unstake:e=>{let{action:l,metadata:s}=e,{pool:n}=(0,r.CU)(),i=(0,u.Z9)(null==l?void 0:l.unstakeBlock),c=(0,a.useMemo)(()=>{var e,l;return(null==s?void 0:s.logoURIs)&&(null==n?void 0:null===(e=n.stakeERC20)||void 0===e?void 0:e.tokenAddress)?null==s?void 0:s.logoURIs[null==n?void 0:null===(l=n.stakeERC20)||void 0===l?void 0:l.tokenAddress]:o.Hz},[null==s?void 0:s.logoURIs,null==n?void 0:n.stakeERC20]),x=(0,a.useMemo)(()=>{var e,l;return(null==s?void 0:s.logoURIs)&&(null==n?void 0:null===(e=n.stakeERC721)||void 0===e?void 0:e.tokenAddress)?null==s?void 0:s.logoURIs[null==n?void 0:null===(l=n.stakeERC721)||void 0===l?void 0:l.tokenAddress]:o.Hz},[null==s?void 0:s.logoURIs,null==n?void 0:n.stakeERC721]),{writeContract:m}=(0,v.nYY)();if(!n)return null;let h=e=>{let s="ERC20"===e,a=s?l.amountERC20:l.idERC721,r=s?n.stakeERC20:n.stakeERC721,u=s?n.totalStakedERC20:n.totalStakedERC721;return a>0n?(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:"Unstake"}),(0,t.jsx)("span",{className:"text-xs opacity-50",children:s?"Token":"NFT"})]}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"avatar",children:(0,t.jsx)("div",{className:"mask mask-squircle w-12 h-12",children:(0,t.jsx)(d.default,{src:s?c||o.Hz:x||o.Hz,alt:r.symbol,width:0,height:0,className:"w-12 h-12",priority:!1})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:r.symbol}),(0,t.jsx)("div",{className:"text-xs opacity-50",children:(0,t.jsx)("a",{href:A(r.tokenAddress).link,className:"link",target:"_blank",children:A(r.tokenAddress).address})})]})]})}),(0,t.jsxs)("td",{className:"text-center",children:[(0,t.jsxs)("div",{className:"font-bold mb-2 text-l",children:[(0,t.jsx)("span",{className:"text-xs opacity-50",children:"Total:"})," ",E(u,r.decimals)," ",(0,t.jsx)("span",{className:"text-xs opacity-50",children:r.symbol})]}),(0,t.jsx)("span",{className:"text-xs opacity-50",children:s?"Your Stake":"Your NFT ID"}),(0,t.jsx)("span",{className:"text-sm py-1 px-2 mx-2 bg-slate-800 rounded-lg",children:s?E(a,r.decimals):"#".concat(l.idERC721.toString())})]}),(0,t.jsxs)("td",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-bold mb-2",children:i}),(0,t.jsxs)("span",{className:"text-xs opacity-50",children:["Block #",l.unstakeBlock.toString()]})]}),(0,t.jsx)("td",{className:"text-center",children:(0,t.jsx)("button",{className:"btn btn-block btn-info",onClick:()=>{m({args:[BigInt(n.id),s?l.amountERC20:0n,s?0n:l.idERC721]})},children:"Stake Again"})})]},e):null};return(0,t.jsxs)(t.Fragment,{children:[h("ERC20"),h("ERC721")]})}},M=()=>{let{id:e,pools:l}=(0,r.CU)(),{[e]:s={}}=(0,S.A)(l),{[e]:n=[]}=(0,I.t)(l),{[e]:o=[]}=(0,T.K)(l),d=(0,a.useMemo)(()=>[...n.map((e,l)=>({...e,id:l,block:e.rewardBlock,type:"reward"})),...o.map((e,l)=>({...e,id:l,block:e.stakeBlock,type:"stake"}))].sort((e,l)=>e.block>l.block?1:e.type===l.type&&Number(e.id)>Number(l.id)?1:-1),[n,o]);return(0,t.jsxs)("div",{className:"flex flex-col gap-2 mt-2 h-full w-full",children:[(0,t.jsx)("h1",{className:"text-4xl text-neutral-700 -mb-2",children:"Actions"}),(null==d?void 0:d.length)?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-base-200",children:[(0,t.jsx)("th",{className:"text-center rounded-ss-2xl",children:"Action"}),(0,t.jsx)("th",{className:"text-center",children:"Token"}),(0,t.jsx)("th",{className:"text-center",children:"Amount"}),(0,t.jsx)("th",{className:"text-center",children:"Date"}),(0,t.jsx)("th",{className:"rounded-se-2xl"})]})}),(0,t.jsx)("tbody",{children:d.map((e,l)=>a.createElement(B[e.type],{action:e,metadata:s,key:"".concat(l,"-").concat(e.type)}))})]})}):(0,t.jsxs)("div",{className:"h-full w-full bg-base-200 text-neutral-600 rounded-xl p-4 text-center text-sm",children:[(0,t.jsx)("div",{children:(0,t.jsx)(x.wMd,{className:"w-full text-center text-8xl mb-2"})}),"The pool has no rewards, add stake to get reward."]})]})};var U=s(20013),_=s(25705),F=s(65938),$=s(72935),z=s(53735),D=s(14689),L=s(3050);let H=e=>{let{active:l,payload:s}=e;if(l&&s&&s.length){var a,n,o,r,d,i;let e=null!==(o=s[0].payload)&&void 0!==o?o:{},l=Number(e.rewardAmount/10n**(null===(a=e.rewardToken)||void 0===a?void 0:a.decimals)).toLocaleString("en-US"),c=(null!==(d=e.rewardBlock)&&void 0!==d?d:"").toString(),u=null!==(i=null===(n=e.rewardToken)||void 0===n?void 0:n.symbol)&&void 0!==i?i:"";return(0,t.jsxs)("div",{className:"rounded-xl bg-neutral-800 text-white text-xs p-3",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"text-zinc-400 mr-2",children:"Block:"}),(0,t.jsx)("div",{children:c})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"text-zinc-400 mr-2",children:"Reward:"}),(0,t.jsx)("div",{children:"".concat(l," ").concat(u)})]})]})}return null};var P=s(8643);let O=console.error;console.error=function(){for(var e=arguments.length,l=Array(e),s=0;s<e;s++)l[s]=arguments[s];/defaultProps/.test(l[0])||O(...l)};let Z=()=>{let{id:e,pools:l}=(0,r.CU)(),{[e]:s=[]}=(0,I.t)(l);return(0,t.jsx)("div",{className:"rounded-2xl w-full h-full bg-base-200 pt-4 pr-4",children:(null==s?void 0:s.length)?(0,t.jsx)(U.h,{width:"100%",height:"100%",children:(0,t.jsxs)(_.c,{data:s,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#64e70c",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#64e70c",stopOpacity:0})]})}),(0,t.jsx)(F.K,{dataKey:e=>{var l;return(null!==(l=null==e?void 0:e.rewardBlock)&&void 0!==l?l:"").toString()},padding:{left:0,right:0}}),(0,t.jsx)($.B,{domain:["0",e=>e&&e>0?e+Math.abs(e/10):0]}),(0,t.jsx)(z.u,{content:(0,t.jsx)(H,{}),cursor:!1}),(0,t.jsx)(D.$,{dataKey:e=>{var l,s,t;return((null!==(s=null==e?void 0:e.rewardAmount)&&void 0!==s?s:1n)/10n**(null!==(t=null==e?void 0:null===(l=e.rewardToken)||void 0===l?void 0:l.decimals)&&void 0!==t?t:0n)).toString()},fillOpacity:1,fill:"url(#colorUv)",minPointSize:5,name:"Reward Amount",stackId:"a",children:(0,t.jsx)(L.e,{dataKey:"rewardToken.symbol",position:"top"})})]})}):(0,t.jsx)("div",{className:"flex items-center content-center justify-center h-full w-full p-4 text-sm text-neutral-600",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(P.ydw,{className:"w-full text-center text-8xl mb-2"}),(0,t.jsx)("div",{children:"The pool has no rewards, add stake to get reward."})]})})})};var q=s(12131);let W=()=>{var e,l,s,a,n,i,c,m,h;let{id:v,pool:f,pools:j}=(0,r.CU)(),{[v]:b}=(0,S.A)(j),g=(0,u.Z9)(null==f?void 0:f.launchBlock);return(0,t.jsx)("div",{className:"relative flex flex-row mt-2 h-full w-full",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2 w-full h-full",children:[(0,t.jsxs)("div",{className:"flex flex-col w-3/5",children:[(0,t.jsx)("h1",{className:"text-4xl text-neutral-700",children:"Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-rows-3 grid-flow-row gap-2 h-60",children:[(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x.kwx,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Pool NFT:"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex text-sm items-center",children:["Pool #",null==f?void 0:f.id," ",(0,t.jsx)("a",{href:"/",className:"link underline-offset-4 decoration-dotted ml-2",children:(0,t.jsx)(q.Oih,{})})]}),(0,t.jsx)("div",{className:"text-xs text-neutral-500 ml-auto",children:(0,t.jsx)("a",{href:"".concat(null==f?void 0:f.tokenURI),target:"_blank",className:"link underline-offset-4 decoration-dotted",children:"IPFS"})})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x.IVw,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Stake Token:"}),(null==f?void 0:f.stakeERC20.tokenAddress)===o.r_?(0,t.jsx)("div",{className:"text-xs text-neutral-500",children:"NONE"}):(0,t.jsxs)("div",{className:"flex text-sm items-center justify-center",children:[(0,t.jsx)(d.default,{src:(null==b?void 0:b.logoURIs)&&(null==f?void 0:null===(e=f.stakeERC20)||void 0===e?void 0:e.tokenAddress)&&null!==(c=null==b?void 0:b.logoURIs[null==f?void 0:null===(l=f.stakeERC20)||void 0===l?void 0:l.tokenAddress])&&void 0!==c?c:"/images/token.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full",priority:!1}),(0,t.jsx)("div",{className:"mx-2",children:null==f?void 0:f.stakeERC20.symbol}),(0,t.jsx)("div",{className:"text-xs text-neutral-500 ml-auto overflow-hidden",children:(0,t.jsx)("a",{href:"/",target:"_blank",className:"link underline-offset-4 decoration-dotted",children:null==f?void 0:f.stakeERC20.tokenAddress})})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x.GQg,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Launched:"}),(0,t.jsxs)("div",{className:"flex text-sm",children:[(0,t.jsx)("div",{children:g}),(0,t.jsx)("div",{className:"text-xs text-neutral-500 ml-auto",children:(0,t.jsxs)("a",{href:"".concat(null==f?void 0:f.tokenURI),target:"_blank",className:"link underline-offset-4 decoration-dotted",children:["Block #",null==f?void 0:f.launchBlock.toString()]})})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x._b1,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Stake NFT:"}),(null==f?void 0:f.stakeERC721.tokenAddress)===o.r_?(0,t.jsx)("div",{className:"text-xs text-neutral-500",children:"NONE"}):(0,t.jsxs)("div",{className:"flex text-sm items-center justify-center",children:[(0,t.jsx)(d.default,{src:(null==b?void 0:b.logoURIs)&&(null==f?void 0:null===(s=f.stakeERC721)||void 0===s?void 0:s.tokenAddress)&&null!==(m=null==b?void 0:b.logoURIs[null==f?void 0:null===(a=f.stakeERC721)||void 0===a?void 0:a.tokenAddress])&&void 0!==m?m:"/images/token.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full",priority:!1}),(0,t.jsx)("div",{className:"mx-2",children:null==f?void 0:f.stakeERC721.symbol}),(0,t.jsx)("div",{className:"text-xs text-neutral-500 ml-auto overflow-hidden",children:(0,t.jsx)("a",{href:"/",target:"_blank",className:"link underline-offset-4 decoration-dotted",children:null==f?void 0:f.stakeERC721.tokenAddress})})]})]})]}),(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x.m0B,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Owner:"}),(0,t.jsx)("div",{className:"text-sm",children:(null==f?void 0:f.owner)&&(null==f?void 0:f.owner)===o.r_?(0,t.jsx)(t.Fragment,{children:"NONE"}):(0,t.jsx)("a",{href:"/",target:"_blank",className:"link underline-offset-4 decoration-dotted",children:(null==f?void 0:f.owner)&&(null==f?void 0:f.owner)===o.r_?"NONE":null==f?void 0:f.owner})})]})]}),(0,t.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl",children:[(0,t.jsx)(x.GZI,{className:"absolute inset-y-0 right-0 top-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),(0,t.jsxs)("div",{className:"flex flex-col justify-center items-left w-full h-full rounded-2xl bg-base-200 p-2 overflow-hidden border-8 border-base-200",children:[(0,t.jsx)("div",{className:"text-xs text-neutral-600 mb-2",children:"Reward Token:"}),(null==f?void 0:f.rewardToken.tokenAddress)===o.r_?(0,t.jsxs)("div",{className:"flex text-sm",children:[(0,t.jsx)(d.default,{src:"/images/STK.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full",priority:!1}),(0,t.jsx)(d.default,{src:"/images/RWD.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full -ml-2",priority:!1}),(0,t.jsx)(d.default,{src:"/images/NFT.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full -ml-2",priority:!1}),(0,t.jsx)("div",{className:"text-neutral-500 ml-4",children:"Any Tokens"})]}):(0,t.jsxs)("div",{className:"flex text-sm items-center justify-center",children:[(0,t.jsx)(d.default,{src:(null==b?void 0:b.logoURIs)&&(null==f?void 0:null===(n=f.rewardToken)||void 0===n?void 0:n.tokenAddress)&&null!==(h=null==b?void 0:b.logoURIs[null==f?void 0:null===(i=f.rewardToken)||void 0===i?void 0:i.tokenAddress])&&void 0!==h?h:"/images/token.svg",alt:"Token Logo",width:0,height:0,className:"w-4 h-4 rounded-full",priority:!1}),(0,t.jsx)("div",{className:"mx-2",children:null==f?void 0:f.rewardToken.symbol}),(0,t.jsx)("div",{className:"text-xs text-neutral-500 ml-auto overflow-hidden",children:(0,t.jsx)("a",{href:"/",target:"_blank",className:"link underline-offset-4 decoration-dotted",children:null==f?void 0:f.rewardToken.tokenAddress})})]})]})]})]})]}),(0,t.jsxs)("div",{className:"w-2/5",children:[(0,t.jsx)("h1",{className:"text-4xl text-neutral-700",children:"Description"}),(0,t.jsx)("div",{className:"overflow-x-auto w-full h-60 rounded-2xl bg-base-200 p-4 text-justify",children:(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)(x.nln,{className:"absolute right-0 bottom-0 text-8xl opacity-5 pointer-events-none scale-x-[-1]"}),null==b?void 0:b.description]})})]})]})})},K=()=>{let{id:e,pool:l,pools:s}=(0,r.CU)(),{[e]:n}=(0,S.A)(s),i=(0,u.Z9)(null==l?void 0:l.launchBlock);console.log("metadata",n);let c=(0,a.useMemo)(()=>{var e;return(null!==(e=null==l?void 0:l.stakeERC20.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_},[l]),x=(0,a.useMemo)(()=>{var e;return(null!==(e=null==l?void 0:l.stakeERC721.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_},[l]),m=(0,a.useMemo)(()=>null==l?void 0:l.stakeERC20,[l]),h=(0,a.useMemo)(()=>null==l?void 0:l.stakeERC721,[l]),v=(0,a.useMemo)(()=>{var e,l;return n&&m?null!==(l=null==n?void 0:null===(e=n.logoURIs)||void 0===e?void 0:e[m.tokenAddress])&&void 0!==l?l:"/images/token.svg":o.Hz},[null==n?void 0:n.logoURIs]),f=(0,a.useMemo)(()=>{var e,l;return n&&h?null!==(l=null==n?void 0:null===(e=n.logoURIs)||void 0===e?void 0:e[h.tokenAddress])&&void 0!==l?l:"/images/token.svg":o.Hz},[null==n?void 0:n.logoURIs]),j=(0,a.useMemo)(()=>{let e={erc20:"0",erc721:"0",max:""};if(null==l?void 0:l.totalMax){if(c){let s=Number(l.totalMax*BigInt(1e3)/10n**l.stakeERC20.decimals)/1e3;s>1e3?e.max=s.toLocaleString("en-US"):e.max=s.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}else x&&(e.max=null==l?void 0:l.totalMax.toString())}if(null==l?void 0:l.totalStakedERC20){let s=Number(l.totalStakedERC20*BigInt(1e3)/10n**l.stakeERC20.decimals)/1e3;s>1e3?e.erc20=s.toLocaleString("en-US"):e.erc20=s.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1")}return(null==l?void 0:l.totalStakedERC721)&&(e.erc721=null==l?void 0:l.totalStakedERC721.toString()),e},[l]);return(0,t.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,t.jsx)("div",{className:"flex items-center overflow-hidden rounded-2xl w-full h-3/5 relative bg-slate-200/10",children:(null==n?void 0:n.banner_image)?(0,t.jsx)("span",{className:"absolute bg-slate-200/10 inset-0 w-full h-full -z-10",style:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(".concat(null==n?void 0:n.banner_image,")")}}):(0,t.jsx)("span",{className:"absolute bg-slate-200/10 inset-0 w-full h-full -z-10",style:(null==n?void 0:n.background_color)?{backgroundColor:"#".concat(null==n?void 0:n.background_color)}:{}})}),(0,t.jsxs)("div",{className:"flex flex-row items-center p-4 mx-6 mb-2 -mt-16 overflow-hidden break-words rounded-2xl backdrop-blur-2xl backdrop-saturate-200 shadow-blur border-0 bg-slate-200/10 w-auto h-1/5",children:[(0,t.jsx)("div",{className:"w-auto",children:(0,t.jsx)("div",{className:"bg-slate-200/10 h-24 w-24 mask mask-hexagon-2",children:n&&(0,t.jsx)(d.default,{src:null==n?void 0:n.image,width:0,height:0,alt:"Pool Image",className:"h-24 w-24 mask mask-hexagon-2",priority:!1})})}),(0,t.jsx)("div",{className:"w-auto px-3 my-auto",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"text-3xl text-white",children:null==n?void 0:n.name}),(0,t.jsx)("div",{className:"mt-1",children:l&&"Launched ".concat(i)})]})}),(0,t.jsx)("div",{className:"flex gap-2 w-auto my-auto ml-auto",children:(0,t.jsx)("div",{className:"flex flex-col break-words border-0 p-2 text-white",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,t.jsxs)("div",{className:"flex",children:[c&&(0,t.jsx)(d.default,{src:null!=v?v:"",width:0,height:0,alt:"",className:"h-14 w-14 rounded-full backdrop-blur-2xl backdrop-saturate-200 shadow-blur bg-slate-950/10 shadow-md",priority:!1}),x&&(0,t.jsx)(d.default,{src:null!=f?f:"",width:0,height:0,alt:"",className:"h-14 w-14 rounded-full backdrop-blur-2xl backdrop-saturate-200 shadow-blur bg-slate-950/10 shadow-md ".concat(c?"-ml-7":""),priority:!1})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[c&&(0,t.jsxs)("div",{className:"text-2xl",children:[(0,t.jsx)("span",{className:"font-mono",children:j.erc20}),j.max?(0,t.jsxs)(t.Fragment,{children:[" / ",(0,t.jsx)("small",{className:"text-xs text-neutral-200",children:j.max})]}):(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("small",{className:"text-xs text-neutral-200",children:"tokens"})]})]}),x&&(0,t.jsxs)("div",{className:"text-2xl",children:[(0,t.jsxs)("span",{className:"font-mono",children:[j.erc721," "]}),(0,t.jsx)("small",{className:"text-xs text-neutral-200",children:"NFTs"})]})]})]})})})]})]})};var Y=s(17990),V=s(96704);let G=e=>{let{token:l,handle:s}=e,{handleApprove:n,offChain:r,onChain:d}=function(e){let l=(0,V.x)(),{[l]:s}=v.staqeProtocolAddress,t=(0,a.useMemo)(()=>{var l;return BigInt(null!==(l=null==e?void 0:e.decimals)&&void 0!==l?l:0n)>0n},[e]),{data:n,writeContract:r,status:d}=(0,v.J2S)(),{data:i,writeContract:c,status:u}=(0,v.tif)(),{status:x}=(0,Y.A)({query:{enabled:!!n,refetchInterval:1e4},hash:n}),{status:m}=(0,Y.A)({query:{enabled:!!i,refetchInterval:1e4},hash:i});return{handleApprove:(0,a.useCallback)(()=>{e&&(t?r({address:(null==e?void 0:e.tokenAddress)||o.r_,args:[s,(null==e?void 0:e.balance)||o.U8]}):c({address:(null==e?void 0:e.tokenAddress)||o.r_,args:[s,!0]}))},[e,t,s,r,c]),offChain:t?d:u,onChain:t?x:m}}(l),[i,c]=(0,a.useState)(0),[u,x]=(0,a.useState)("");return(0,a.useEffect)(()=>{var e;x("Approve spending ".concat(null!==(e=null==l?void 0:l.symbol)&&void 0!==e?e:""," tokens."))},[l]),(0,a.useEffect)(()=>{"pending"===r&&(x("Awaiting wallet confirmation..."),c(.5),setTimeout(()=>{x("Confirm the transaction in your wallet."),c(1)},2e3)),"success"===r&&(x("Transaction submitted. Please wait..."),c(2)),"success"===d&&(x("Approval successful!"),c(3)),("error"===r||"error"===d)&&(x("Error: Transaction failed."),c(-1),setTimeout(()=>{var e;x("Approve spending ".concat(null!==(e=null==l?void 0:l.symbol)&&void 0!==e?e:""," tokens.")),c(0)},5e3))},[r,d]),(0,a.useEffect)(()=>{3===i&&setTimeout(()=>{s(!0)},2e3)},[i]),l&&(0,t.jsxs)("dialog",{id:"approve-".concat(null==l?void 0:l.tokenAddress),className:"modal",children:[(0,t.jsx)("div",{className:"modal-box",children:(0,t.jsxs)("div",{className:"grid grid-rows-3 gap-4 items-center w-full",children:[(0,t.jsx)(h,{status:i,message:u}),(0,t.jsxs)("ul",{className:"steps w-full",children:[(0,t.jsx)("li",{"data-content":"✓",className:"step ".concat(i>=1?"step-accent":""),children:.5===i?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):"Init"}),(0,t.jsx)("li",{"data-content":"✓",className:"step ".concat(i>=2?"step-accent":""),children:1===i?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):"Transaction"}),(0,t.jsx)("li",{"data-content":"✓",className:"step ".concat(i>=3?"step-accent":""),children:2===i?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):"Success"})]}),(0,t.jsx)("div",{className:"w-full p-2 mt-2",children:(0,t.jsxs)("a",{className:"btn btn-block text-2xl overflow-hidden relative btn-warning ".concat(i>0&&i<3?"animate-pulse":""),onClick:()=>i<=0&&n(),children:[i>0&&i<3?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):3===i?"Approved":"Approve ".concat(null==l?void 0:l.symbol),(0,t.jsx)(P.$a2,{className:"absolute inset-y-0 right-0 text-8xl -top-6 opacity-40"})]})})]})}),(0,t.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,t.jsx)("button",{children:"close"})})]})},X=e=>{var l,s,n;let{rewardToken:o,handle:r}=e,[i,u]=(0,a.useState)({tokenAddress:o,afterBlocks:0}),x=e=>{let l=e.target.value;u({...i,afterBlocks:l})};return(0,t.jsxs)("dialog",{id:"reward-settings",className:"modal",children:[(0,t.jsxs)("div",{className:"modal-box",children:[(0,t.jsxs)("div",{className:"p-2 w-full",children:[!o&&(0,t.jsx)("div",{className:"flex justify-center items-center w-full mb-2",children:(0,t.jsxs)("label",{className:"form-control w-full",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:"Token Address"})}),(0,t.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,t.jsx)(d.default,{src:c(i.tokenAddress),width:0,height:0,alt:"Token Logo",className:"w-8 h-8 opacity-70 rounded-full"}),(0,t.jsx)("input",{type:"text",className:"grow ml-5",placeholder:"0x0...",value:null!==(l=i.tokenAddress)&&void 0!==l?l:"0x603E1BD79259EbcbAaeD0c83eeC09cA0B89a5bcC",spellCheck:!1,onChange:e=>{let l=e.target.value;u({...i,tokenAddress:l})}})]})]})}),(0,t.jsxs)("label",{className:"form-control w-full mb-2",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsxs)("span",{className:"label-text",children:["Access to reward after ",i.afterBlocks," blocks"]})}),(0,t.jsx)("label",{className:"input input-bordered flex items-center gap-2",children:(0,t.jsx)("input",{type:"text",className:"grow",placeholder:"0",value:null!==(s=i.afterBlocks)&&void 0!==s?s:"",spellCheck:!1,onChange:x})})]}),(0,t.jsx)("input",{type:"range",min:0,max:"36000",className:"range",step:"1800",value:null!==(n=i.afterBlocks)&&void 0!==n?n:"",onChange:x}),(0,t.jsxs)("div",{className:"w-full flex justify-between text-xs px-2 text-center",children:[(0,t.jsxs)("span",{children:["0",(0,t.jsx)("br",{}),"Days"]}),(0,t.jsxs)("span",{children:["1",(0,t.jsx)("br",{}),"Days"]}),(0,t.jsxs)("span",{children:["2",(0,t.jsx)("br",{}),"Days"]}),(0,t.jsxs)("span",{children:["3",(0,t.jsx)("br",{}),"Days"]}),(0,t.jsxs)("span",{children:["4",(0,t.jsx)("br",{}),"Days"]}),(0,t.jsxs)("span",{children:["5",(0,t.jsx)("br",{}),"Days"]})]})]}),(0,t.jsx)("div",{className:"modal-action w-full",children:(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4 w-full",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)("form",{method:"dialog",children:(0,t.jsx)("button",{className:"btn btn-block",children:"Cancel"})})}),(0,t.jsx)("div",{className:"col-span-3",children:(0,t.jsx)("form",{method:"dialog",children:(0,t.jsx)("button",{className:"btn btn-success btn-block",onClick:()=>{r(i)},children:"Save"})})})]})})]}),(0,t.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,t.jsx)("button",{children:"close"})})]})};var J=s(18490);function Q(e){let[l,s]=(0,a.useState)(),t=(0,a.useMemo)(()=>{if(!l)return{str:"",big:0n};let s=0;return s="string"==typeof l?Math.round(1e3*parseFloat(l))/1e3||0:Number(l),{str:l.toString(),big:BigInt(Math.floor(s*Math.pow(10,Number(null!=e?e:0))))}},[l,e]),n=(0,a.useCallback)(e=>{let l=e.currentTarget.value;(/^\d*\.?\d*$/.test(l)||""===l)&&s(l)},[]);return[t,s,n]}function ee(e){return(0,a.useMemo)(()=>{var l;return(null==e?void 0:e.balance)===void 0?"0":"bigint"==typeof e.balance?function(e,l){let s=(e*BigInt(1e3)/BigInt(10**Number(l))).toString(),t=s.length-3;return t>0?s.slice(0,t)+"."+s.slice(t):"0."+"0".repeat(-t)+s}(e.balance,e.decimals):BigInt(Math.floor(("string"==typeof e.balance?parseFloat(e.balance):e.balance)*Number(10n**BigInt(null!==(l=e.decimals)&&void 0!==l?l:0))))},[e])}var el=s(60755);let es=()=>{let{address:e=o.r_}=(0,n.m)(),{pool:l,refetch:s}=(0,r.CU)(),d=(0,a.useMemo)(()=>{var e;return(null!==(e=null==l?void 0:l.stakeERC20.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_?null==l?void 0:l.stakeERC20.symbol:void 0},[l]),i=(0,a.useMemo)(()=>{var e;return(null!==(e=null==l?void 0:l.stakeERC721.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_?null==l?void 0:l.stakeERC721.symbol:void 0},[l]),c=(0,a.useMemo)(()=>{var e;return(null!==(e=null==l?void 0:l.rewardToken.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_?null==l?void 0:l.rewardToken.tokenAddress:void 0},[l]),[u,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(0),[j,b]=(0,a.useState)(!!d==!!i?void 0:!!i),[g,N]=(0,a.useState)(),[p,k]=(0,a.useState)(c),[w]=(0,J.R)(p,e),[y,C,R]=Q(null==w?void 0:w.decimals),E=ee(w),{writeContract:A,status:S,data:I}=(0,v.uvu)(),{status:T}=(0,Y.A)({hash:I});(0,a.useEffect)(()=>{"success"===T&&(m(!1),setTimeout(()=>s(),100))},[T]);let B=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!l)return;if(void 0===j){f(1),setTimeout(()=>f(0),1e3);return}if(!y||y.big<=0n){f(2),setTimeout(()=>f(0),1e3);return}if(!p||p===o.r_){f(3),setTimeout(()=>f(0),1e3);return}if(!y||!w||y.big>w.balance){f(4),setTimeout(()=>f(0),1e3);return}let s=document.getElementById("approve-".concat(p));if(!e)return null==s?void 0:s.showModal();null==s||s.close(),A({args:[BigInt(l.id),null!=c?c:p,y.big,BigInt(null!=g?g:0),j]},{onSuccess:()=>{k(void 0),b(void 0),C(void 0),N(void 0),m(!0)}})},[l,p,j,g,y]);return(0,t.jsxs)("div",{className:"flex flex-col justify-evenly gap-2 rounded-2xl bg-base-200 p-4 h-full",children:[(0,t.jsx)("div",{className:"flex-none w-full",children:(0,t.jsxs)("div",{role:"tablist",className:"flex items-center justify-center tabs tabs-boxed border-2 border-base-200 ".concat(1===h?"border-pink-700":""),children:[(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"For"}),d&&(0,t.jsx)("button",{role:"tab",className:"tab h-full text-l px-4 py-2 ".concat(!1===j?"text-white bg-neutral-700":"bg-slate-700/10 hover:bg-slate-700/25 text-gray-500"),onClick:()=>{b(!1)},children:d}),d&&i&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"or"}),i&&(0,t.jsx)("button",{role:"tab",className:"tab h-full text-l px-4 py-2 ".concat(!0===j?"text-white bg-neutral-700":"bg-slate-700/10 hover:bg-slate-700/25 text-gray-500"),onClick:()=>{b(!0)},children:i}),(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"Stakers"})]})}),void 0===j?(0,t.jsx)("div",{className:"flex-1 content-center",children:(0,t.jsxs)("div",{className:"text-sm text-neutral-600 w-full text-center px-4",children:[(0,t.jsx)("div",{children:u?(0,t.jsx)("span",{className:"loading loading-dots loading-lg"}):(0,t.jsx)(el.VzD,{className:"text-7xl w-full text-center"})}),"Choose who gets the reward, ERC20 or ERC721 Stackers, simply select the token symbol",!p&&", set the token address"," and the reward amount."]})}):(0,t.jsx)("div",{className:"flex-1 content-center w-full",children:(0,t.jsxs)("label",{className:"form-control w-full",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)("span",{className:"label-text text-neutral-600",children:"Reward Token Amount"}),(0,t.jsxs)("span",{className:"label-text-alt ".concat(4===h?"text-pink-700":"text-neutral-600"),children:["Balance: ",E]})]}),(0,t.jsxs)("label",{className:"input input-bordered flex items-center gap-2 border-2 ".concat(2===h?"border-pink-700":""),children:[(0,t.jsx)("input",{type:"text",className:"grow placeholder:text-neutral-700",placeholder:"123.456",value:null==y?void 0:y.str,onChange:R}),"0"!==E&&(0,t.jsx)("span",{className:"badge badge-ghost text-neutral-600 hover:cursor-pointer hover:bg-neutral-800",onClick:()=>{C(E)},children:"MAX"})]}),(0,t.jsxs)("div",{className:"label",children:[p?(0,t.jsxs)("span",{className:"label-text-alt text-neutral-600",children:["Token"," ",(0,t.jsx)("span",{className:"bg-neutral-700 text-white py-1 px-2 rounded-md",children:null==w?void 0:w.symbol})]}):(0,t.jsx)("span",{className:"label-text-alt link underline underline-offset-2 decoration-dotted ".concat(3===h?"text-pink-700":"text-neutral-600"),onClick:()=>{var e;let l=null===(e=document)||void 0===e?void 0:e.getElementById("reward-settings");null==l||l.showModal()},children:"Set Token Address"}),(0,t.jsx)("span",{className:"label-text-alt text-neutral-600 link underline underline-offset-2 decoration-dotted",onClick:()=>{var e;let l=null===(e=document)||void 0===e?void 0:e.getElementById("reward-settings");null==l||l.showModal()},children:g?"Access to reward after ".concat(g," blocks"):"Set access to rewards"})]}),(0,t.jsx)(X,{rewardToken:c,handle:e=>{N(e.afterBlocks),k(e.tokenAddress)}})]})}),(0,t.jsxs)("div",{className:"flex-none w-full",children:[(0,t.jsxs)("a",{className:"btn btn-block text-2xl overflow-hidden relative btn-success ".concat("pending"===S&&"animate-pulse"," ").concat("success"===S&&"btn-disabled"),onClick:()=>B(!!(null==w?void 0:w.isApproved)),children:["pending"===S||u?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):"Add Reward",(0,t.jsx)(x.IVw,{className:"absolute inset-y-0 right-0 text-8xl -top-6 opacity-40"})]}),(0,t.jsx)(G,{token:w,handle:B})]})]})};var et=s(75898);let ea=()=>{var e;let{address:l=o.r_}=(0,n.m)(),{pool:s,refetch:d}=(0,r.CU)(),i=(0,a.useMemo)(()=>{var e;return(null!==(e=null==s?void 0:s.stakeERC20.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_?null==s?void 0:s.stakeERC20.symbol:void 0},[s]),c=(0,a.useMemo)(()=>{var e;return(null!==(e=null==s?void 0:s.stakeERC721.tokenAddress)&&void 0!==e?e:o.r_)!==o.r_?null==s?void 0:s.stakeERC721.symbol:void 0},[s]),u=(0,a.useMemo)(()=>{if(!s||!s.totalMax)return;let e={big:0n,str:""};if(s.stakeERC20.tokenAddress!==o.r_){let l=Number((s.totalMax-s.totalStakedERC20)*BigInt(1e3)/10n**s.stakeERC20.decimals)/1e3;l>1e3?(e.big=s.totalMax-s.totalStakedERC20,e.str=l.toLocaleString("en-US")):(e.big=s.totalMax-s.totalStakedERC20,e.str=l.toFixed(3).replace(/(\.\d*?[1-9])0+$|\.0*$/,"$1"))}return s.stakeERC721.tokenAddress!==o.r_&&(e.big=s.totalMax-s.totalStakedERC721,e.str=(s.totalMax-s.totalStakedERC721).toString()),e},[s]),[m,h]=(0,a.useState)((0,t.jsx)(t.Fragment,{})),[f,j]=(0,a.useState)(!1),[b,g]=(0,a.useState)(0),[N,p]=(0,a.useState)(!!i==!!c?void 0:!!c),[k,w,y]=Q(null==s?void 0:s.stakeERC20.decimals),[C,R,E]=Q(null==s?void 0:s.stakeERC721.decimals),[A,S]=(0,a.useState)(),[I,T]=(0,J.R)(null==s?void 0:s.stakeERC20.tokenAddress,l),[B,M]=(0,J.c)(null==s?void 0:s.stakeERC721.tokenAddress,l),U=ee(I),_=(null!==(e=null==B?void 0:B.balance)&&void 0!==e?e:0).toString(),[F,$]=(0,a.useState)(),[z,D]=(0,a.useState)();(0,a.useEffect)(()=>{if(k.big>0n){var e,l;k.big>(null!==(e=null==I?void 0:I.allowance)&&void 0!==e?e:0n)&&k.big<=(null!==(l=null==I?void 0:I.balance)&&void 0!==l?l:0n)&&$(!0)}else $(void 0);C.big>0n?(null==B?void 0:B.isApproved)||D(!0):D(void 0)},[k,C,I,B]),(0,a.useEffect)(()=>{!s||F||z||k.big<=0n&&C.big<=0n||S([BigInt(s.id),k.big,C.big])},[F,z]),(0,a.useEffect)(()=>{console.log("args",A),A&&L({args:A},{onSuccess:W})},[A]);let{writeContract:L,status:H,error:P,data:O}=(0,v.nYY)(),{status:Z}=(0,Y.A)({hash:O});(0,a.useEffect)(()=>{"success"===Z&&(j(!1),setTimeout(()=>d(),100))},[Z]),console.log("err",P);let q=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=document.getElementById("approve-".concat(e));l&&(null==s||s.close()),l||null==s||s.showModal()},W=()=>{p(void 0),w(void 0),R(void 0),j(!0)},K=()=>{var e,l;if(s){if(void 0===N){g(1),setTimeout(()=>g(0),1e3);return}if(k.big<=0n&&C.big<=0n){g(2),setTimeout(()=>g(0),1e3);return}if(k.big>0n&&k.big>(null!==(e=null==I?void 0:I.balance)&&void 0!==e?e:0n)){g(3),setTimeout(()=>g(0),1e3);return}if(C.big>0n&&(null!==(l=null==B?void 0:B.balance)&&void 0!==l?l:0n)<=0n){g(4),setTimeout(()=>g(0),1e3);return}if(u&&u.big>0n&&u.big-(k.big||(C.big>0n?1n:0n))<0n){g(5),setTimeout(()=>g(0),1e3);return}z?q(null==B?void 0:B.tokenAddress):F?q(null==I?void 0:I.tokenAddress):S([BigInt(s.id),k.big,C.big])}},V=(0,a.useCallback)(e=>{q(null==I?void 0:I.tokenAddress,e),$(!1),z&&q(null==B?void 0:B.tokenAddress)},[I,B,z]),X=(0,a.useCallback)(e=>{q(null==B?void 0:B.tokenAddress,e),D(!1),F&&q(null==I?void 0:I.tokenAddress)},[I,B,F]);return(0,t.jsxs)("div",{className:"flex flex-col justify-evenly gap-2 rounded-2xl bg-base-200 p-4 h-full",children:[(0,t.jsx)("div",{className:"flex-none w-full",children:(0,t.jsxs)("div",{role:"tablist",className:"flex items-center justify-center tabs tabs-boxed border-2 border-base-200 ".concat(1===b?"border-pink-700":""),children:[i&&(0,t.jsxs)(t.Fragment,{children:[!c&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"Stake "}),(0,t.jsx)("button",{role:"tab",className:"tab h-full text-l px-4 py-2 ".concat(!1===N?"text-white bg-neutral-700":"bg-slate-700/10 hover:bg-slate-700/25 text-gray-500"),onClick:()=>{p(!1)},children:i}),!c&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"Tokens"})]}),i&&c&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"and"}),c&&(0,t.jsxs)(t.Fragment,{children:[!i&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"Stake "}),(0,t.jsx)("button",{role:"tab",className:"tab h-full text-l px-4 py-2 ".concat(!0===N?"text-white bg-neutral-700":"bg-slate-700/10 hover:bg-slate-700/25 text-gray-500"),onClick:()=>{p(!0)},children:c}),!i&&(0,t.jsx)("div",{className:"mx-2 opacity-15",children:"NFT"})]})]})}),void 0===N?(0,t.jsx)("div",{className:"flex-1 content-center",children:(0,t.jsxs)("div",{className:"text-sm text-neutral-600 w-full text-center px-4",children:[(0,t.jsx)("div",{children:f?(0,t.jsx)("span",{className:"loading loading-dots loading-lg"}):(0,t.jsx)(el.VzD,{className:"text-7xl w-full text-center"})}),"It is possible to stake ERC20 tokens and ERC721 NFT in one stake, just select the token symbol and set the amount or NFT ID."]})}):(0,t.jsx)("div",{className:"flex-1 content-center w-full",children:(0,t.jsxs)("label",{className:"form-control w-full",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsxs)("span",{className:"label-text text-neutral-600",children:["Stake Token"," ",void 0!==N&&N?"ID":"Amount"]}),(0,t.jsxs)("span",{className:"label-text-alt ".concat(3===b||4===b?"text-pink-700":"text-neutral-600"),children:["Balance:"," ",void 0!==N&&(N?_:U)]})]}),(0,t.jsxs)("label",{className:"input input-bordered flex items-center gap-2 border-2 ".concat(2===b||5===b?"border-pink-700":""),children:[(0,t.jsx)("input",{type:"text",className:"grow placeholder:text-neutral-700",placeholder:void 0!==N?N?"1":"123.456":"",value:void 0!==N?N?C.str:k.str:"",onChange:void 0!==N?N?E:y:void 0}),!1===N&&(0,t.jsx)("span",{className:"badge badge-ghost text-neutral-600 hover:cursor-pointer hover:bg-neutral-800 ".concat(5===b?"bg-pink-700 text-white":""),onClick:()=>{u&&I?w(I.balance>u.big?u.str:U):w(U)},children:"MAX"})]}),(0,t.jsx)("div",{className:"label whitespace-nowrap overflow-hidden text-ellipsis text-center",children:(0,t.jsxs)("span",{className:"label-text-alt text-neutral-600 w-full",children:[N?null==B?void 0:B.name:null==I?void 0:I.name," ",(0,t.jsx)("button",{className:"btn btn-xs",onClick:()=>{var e;let l=document.getElementById("modal");h((0,t.jsx)(et.y1,{address:null===(e=N?B:I)||void 0===e?void 0:e.tokenAddress,dark:!0,handle:e=>{let{data:l,status:s}=e;console.log("data",l),console.log("status",s),"success"===s&&(T(),M(),d())}})),null==l||l.showModal()},children:"Mint"})]})})]})}),(0,t.jsxs)("div",{className:"flex-none w-full",children:[(0,t.jsxs)("a",{className:"btn btn-block text-2xl overflow-hidden relative btn-success ".concat("pending"===H&&"animate-pulse"," ").concat("success"===H&&"btn-disabled"),onClick:()=>K(),children:["pending"===H||f?(0,t.jsx)("span",{className:"loading loading-dots loading-sm"}):"Stake Now",(0,t.jsx)(x.IVw,{className:"absolute inset-y-0 right-0 text-8xl -top-6 opacity-40"})]}),F&&(0,t.jsx)(G,{token:I,handle:V}),z&&(0,t.jsx)(G,{token:B,handle:X})]}),(0,t.jsx)("dialog",{id:"modal",className:"modal w-full",children:(0,t.jsxs)("div",{className:"modal-box m-0 p-0",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("form",{method:"dialog",children:(0,t.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-4 top-0",children:"✕"})}),(0,t.jsx)("h3",{className:"text-lg font-extrabold ml-4 my-4",children:"Mint"}),(0,t.jsx)("hr",{className:"border-0 border-slate-200 dark:border-slate-700"})]}),(0,t.jsx)("div",{className:"flex justify-center items-center m-4 p-4 mt-1 pt-1",children:m})]})})]})},en=()=>{let{address:e=o.r_}=(0,n.m)(),{pool:l}=(0,r.CU)(),s=(0,a.useMemo)(()=>l&&l.owner===e,[l,e]);return!0===s?(0,t.jsx)(es,{}):!1===s?(0,t.jsx)(ea,{}):(0,t.jsxs)("div",{className:"flex flex-col justify-evenly gap-2 rounded-2xl bg-base-200 p-4 h-full",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"skeleton w-1/2 h-10"})}),(0,t.jsx)("div",{className:"flex-1 content-center",children:(0,t.jsx)("div",{className:"skeleton w-full h-20"})}),(0,t.jsx)("div",{className:"flex-none content-center",children:(0,t.jsx)("div",{className:"skeleton w-full h-12"})})]})};var eo=s(5872),er=function(){let{address:e=o.r_}=(0,n.m)(),[l,s]=(0,a.useState)("0"),[d,i]=(0,a.useState)(e);(0,a.useEffect)(()=>{let l=new URLSearchParams(window.location.search);s(l.get("id")||"0"),i(l.get("account")||e)},[e]);let{pool:c,pools:u,refetch:x}=(0,r.AI)(l,d);return(0,t.jsx)(eo.Z.Provider,{value:{id:l,pool:c,pools:u,refetch:x},children:(0,t.jsx)("section",{className:"custom-screen",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 w-full h-full",children:[(0,t.jsx)("div",{className:"w-full h-[40rem]",children:(0,t.jsx)(K,{})}),(0,t.jsxs)("div",{className:"flex flex-row gap-2 w-full h-80 -mt-48",children:[(0,t.jsx)("div",{className:"w-3/5 h-full",children:(0,t.jsx)(Z,{})}),(0,t.jsx)("div",{className:"w-2/5 h-full",children:(0,t.jsx)(en,{})})]}),(0,t.jsx)("div",{className:"w-full h-full",children:(0,t.jsx)(W,{})}),(0,t.jsx)("div",{className:"w-full h-full",children:(0,t.jsx)(M,{})})]})})})}},18490:function(e,l,s){"use strict";s.d(l,{R:function(){return d},c:function(){return i}});var t=s(63366),a=s(3905),n=s(96704),o=s(6199),r=s(55831);function d(e,l){let s=(0,n.x)(),{[s]:d}=t.staqeProtocolAddress,[i,c]=(0,a.useState)(),u=(0,a.useMemo)(()=>{if(e&&e!==r.r_&&l&&d)return[{address:e,abi:t.WoU,functionName:"name"},{address:e,abi:t.WoU,functionName:"symbol"},{address:e,abi:t.WoU,functionName:"decimals"},{address:e,abi:t.WoU,functionName:"balanceOf",args:[l]},{address:e,abi:t.WoU,functionName:"allowance",args:[l,d]}]},[e,l,d]),{data:x,refetch:m}=(0,o.N)({allowFailure:!1,contracts:u});return(0,a.useEffect)(()=>{if(!x)return;let[l,s,t,a,n]=x;c({tokenAddress:null!=e?e:r.r_,name:l,symbol:s,decimals:t,balance:a,isApproved:!1,allowance:n})},[x]),[i,m]}function i(e,l){let s=(0,n.x)(),{[s]:d}=t.staqeProtocolAddress,[i,c]=(0,a.useState)(),u=(0,a.useMemo)(()=>{if(e&&e!==r.r_&&l&&d)return[{address:e,abi:t.HrC,functionName:"name"},{address:e,abi:t.HrC,functionName:"symbol"},{address:e,abi:t.HrC,functionName:"balanceOf",args:[l]},{address:e,abi:t.HrC,functionName:"isApprovedForAll",args:[l,d]}]},[e,l,d]),{data:x,refetch:m}=(0,o.N)({allowFailure:!1,contracts:u});return(0,a.useEffect)(()=>{if(!x)return;let[l,s,t,a]=x;c({tokenAddress:null!=e?e:r.r_,name:l,symbol:s,decimals:0n,balance:t,isApproved:a,allowance:0n})},[x]),[i,m]}}},function(e){e.O(0,[13,205,667,404,753,500,879,400,898,164,536,282,252,649,157,744],function(){return e(e.s=88307)}),_N_E=e.O()}]);